(function(e,a){for(var i in a)e[i]=a[i];}(this,(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=55);})
({0:(function(module,exports){(function(){module.exports=this["React"];}());}),1:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Store=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _events=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Store=exports.Store=function(){_createClass(Store,null,[{key:'getStore',value:function getStore(namespace){namespace=namespace||'store';if(!this.storeNamespaces[namespace]){var newStore=new this({},namespace);newStore.namespace=namespace;this.storeNamespaces[namespace]=newStore;}
return this.storeNamespaces[namespace];}}]);function Store(storeData,storePath){_classCallCheck(this,Store);this.VERSION='1.0.4';this.storeData={};this.storePath='';this.namespace='';this.agents={};this.storeData=storeData=storeData||{};this.storePath=storePath=storePath||'';var eventsName='events';if(storePath){eventsName+='.';}
eventsName+=storePath;this.events=_events.Events.getEvents(eventsName);this.events.bind(this);}
_createClass(Store,[{key:'access',value:function access(target,dataPath,data){var isSet=data!==undefined;if(!dataPath){if(!isSet){return target;}
else{for(var key in data){target[key]=data[key];}
return;}}
var pathParts=dataPath.split('.');for(var index=0;index<pathParts.length;index+=1){var part=pathParts[index];if(target&&isSet&&index===pathParts.length-1){target[part]=data;break;}else if(target[part]!=undefined){target=target[part];}
else if(isSet){target=target[part]={};}
else{target=undefined;break;}}
return target;}},{key:'get',value:function get(dataPath){return this.access(this.storeData,dataPath);}},{key:'set',value:function set(dataPath,data){dataPath=dataPath||'';if((typeof dataPath==='undefined'?'undefined':_typeof(dataPath))=='object'){data=dataPath;dataPath='';}
this.access(this.storeData,dataPath,data);var updateData={};var current=updateData;var pathParts=dataPath.split('.');if(!dataPath){updateData=data;}
else{for(var index=0;index<pathParts.length;index+=1){var part=pathParts[index];if(index<pathParts.length-1){current=updateData[part]=updateData[part]||{};}else{current[part]=data;}}}
this.emit('update',[updateData]);}},{key:'update',value:function update(updateQuery){var data=this.get();data=_react2.default.addons.update(data,updateQuery);var isGlobal=false;var parts={};for(var key in updateQuery){if(key[0]=='$'){isGlobal=true;}
else{parts[key]=data[key];}}
if(isGlobal){this.set('',data);}
else{var updateData={};for(var _key in parts){this.access(this.storeData,_key,parts[_key]);updateData[_key]=parts[_key];}
this.emit('update',[updateData]);}}},{key:'getAgent',value:function getAgent(agentPath){agentPath=agentPath||'';if(!agentPath){return this;}
var pathParts=agentPath.split('.');var targetAgent=this;for(var index=0;index<pathParts.length;index+=1){var part=pathParts[index];var agentData=targetAgent.get(part);if((typeof agentData==='undefined'?'undefined':_typeof(agentData))!='object'&&agentData!==undefined){throw Error("Cannot create new agent at specify path. storeData is exists and it isn't object.");}
var agent=this.access(targetAgent.agents,part);if(agent===undefined){var newAgentPath=targetAgent.storePath;if(newAgentPath.length>0){newAgentPath+='.';}
newAgentPath+=part;agentData=agentData||{};targetAgent.set(part,agentData);this.access(targetAgent.agents,part,agent=new Store(agentData,newAgentPath));}
targetAgent=agent;}
return targetAgent;}}]);return Store;}();Store.storeNamespaces={};exports.default=Store.getStore();}),2:(function(module,exports){(function(){module.exports=this["jQuery"];}());}),3:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Events=exports.Events=function(){_createClass(Events,null,[{key:'getEvents',value:function getEvents(namespace){namespace=namespace||'events';if(!this.eventNamespaces[namespace]){this.eventNamespaces[namespace]=new this(namespace);}
return this.eventNamespaces[namespace];}}]);function Events(eventsName){_classCallCheck(this,Events);this.VERSION='1.0.1';this.eventsName='';this.ids=[];this.events={};this._autoinc=1;this.eventsName=eventsName;}
_createClass(Events,[{key:'autoinc',value:function autoinc(){return this._autoinc++;}},{key:'wrap',value:function wrap(eventName,eventCallback,priority,isOnce){isOnce=isOnce||false;return{id:this.autoinc(),eventName:eventName,eventCallback:eventCallback,priority:priority,isOnce:isOnce};}},{key:'on',value:function on(eventName,eventCallback,priority,isOnce){priority=priority||0;var wrap=this.wrap(eventName,eventCallback,priority,isOnce);this.ids.push(wrap);this.events[eventName]=this.events[eventName]||[];var eventList=this.events[eventName];if(eventList.length===0){eventList.push(wrap);}else{for(var i=0;i<eventList.length;i+=1){if(eventList[i].priority<priority){eventList.splice(i,0,wrap);break;}
else if(i===eventList.length-1){eventList.push(wrap);break;}}}
return wrap.id;}},{key:'once',value:function once(eventName,eventCallback,priority){return this.on(eventName,eventCallback,priority,true);}},{key:'del',value:function del(id){var found=false;for(var i in this.ids){var wrap=this.ids[i];if(wrap.id==id){found=true;var eventIndex=this.events[wrap.eventName].indexOf(wrap);if(~eventIndex){this.events[wrap.eventName].splice(eventIndex,1);}
break;}}
return found;}},{key:'emit',value:function emit(eventName,args){var eventList=this.events[eventName]=this.events[eventName]||[];var shouldBeDel=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=eventList[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var wrap=_step.value;wrap.eventCallback.apply(null,args);if(wrap.isOnce){shouldBeDel.push(wrap.id);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=shouldBeDel[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var eventId=_step2.value;this.del(eventId);}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}},{key:'bind',value:function bind(target){if(Object.prototype.toString.call(target)!='[object Object]'){throw new Error('Events only can bind on object.');}
var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=Events.methods[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var propertyName=_step3.value;target[propertyName]=this[propertyName].bind(this);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}}]);return Events;}();Events.eventNamespaces={};Events.methods=['on','once','del','emit'];var events=new Events();exports.default=events;}),4:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=objectMergeRecursive;function objectMergeRecursive(obj1,obj2){for(var p in obj2){try{if(obj2[p].constructor==Object){obj1[p]=objectMergeRecursive(obj1[p],obj2[p]);}else{obj1[p]=obj2[p];}}catch(e){obj1[p]=obj2[p];}}
return obj1;}}),5:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var cookies=exports.cookies={set:function set(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+exdays*24*60*60*1000);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; path=/;"+expires;},get:function get(cname){var name=cname+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return "";}};}),55:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Index=__webpack_require__(56);Object.keys(_Index).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _Index[key];}});});var _Index2=__webpack_require__(59);Object.keys(_Index2).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _Index2[key];}});});var _application=__webpack_require__(61);Object.keys(_application).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _application[key];}});});var _societyShadow=__webpack_require__(9);Object.keys(_societyShadow).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _societyShadow[key];}});});__webpack_require__(62);}),56:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ArticleDetail=undefined;var _guestBook=__webpack_require__(57);var _guestBook2=_interopRequireDefault(_guestBook);var _guestBook_tmp=__webpack_require__(58);var _guestBook_tmp2=_interopRequireDefault(_guestBook_tmp);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ArticleDetail=exports.ArticleDetail={GuestBook:_guestBook2.default,GuestBookTmp:_guestBook_tmp2.default};}),57:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _store=__webpack_require__(1);var _jquery=__webpack_require__(2);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var store=_store.Store.getStore('ArticleDetail').getAgent('guestBook');var GuestBookTmp=function(_React$Component){_inherits(GuestBookTmp,_React$Component);function GuestBookTmp(props){_classCallCheck(this,GuestBookTmp);var _this=_possibleConstructorReturn(this,(GuestBookTmp.__proto__||Object.getPrototypeOf(GuestBookTmp)).call(this,props));store.set('',{guestBookId:props.guestBookId,guestBookList:props.guestBookList,guestBookListTotal:props.guestBookListTotalNumber,users:props.users,defineUri:defineUri,user:props.user});_this.state=store.get();store.on("update",function(inputData){this.setState(inputData);}.bind(_this));return _this;}
_createClass(GuestBookTmp,[{key:'render',value:function render(){var reply='';if(this.props.user.length!=0){reply=_react2.default.createElement(Reply,{key:'reply',data:{type:'baseMessage'}});}else{reply=_react2.default.createElement('div',{className:'leave-comment'},_react2.default.createElement('div',{className:'login-first'},'\u8ACB\u5148',_react2.default.createElement('a',{href:'javascript:;',onClick:loginCheck.bind(this,false)},'\u767B\u5165')));}
var guestBookListTotal=store.get('guestBookListTotal');var guestBookList=store.get('guestBookList');var guestBookListHtml=Object.keys(guestBookList).reverse().map(function(key){return _react2.default.createElement(GuesBookSingleMessage,{key:'message_single_'+key,data:guestBookList[key]});});var showMore='';if(guestBookListTotal>guestBookListHtml.length){var moreCount=guestBookListTotal-guestBookListHtml.length;showMore=_react2.default.createElement(ShowMore,{key:'show_more',data:{type:'baseShowMore',moreCount:moreCount}});}
return _react2.default.createElement('div',{className:'guest-book-clickme'},reply,_react2.default.createElement('div',{className:'reply'},'\u6240\u6709\u7559\u8A00(',_react2.default.createElement('span',{className:'reply-number'},guestBookListTotal),')'),_react2.default.createElement('div',{className:'guest-book-list'},_react2.default.createElement('ul',null,guestBookListHtml),showMore));}}]);return GuestBookTmp;}(_react2.default.Component);exports.default=GuestBookTmp;var GuesBookSingleMessage=function(_React$Component2){_inherits(GuesBookSingleMessage,_React$Component2);function GuesBookSingleMessage(){_classCallCheck(this,GuesBookSingleMessage);var _this2=_possibleConstructorReturn(this,(GuesBookSingleMessage.__proto__||Object.getPrototypeOf(GuesBookSingleMessage)).call(this));_this2.state={topicExtended:false};return _this2;}
_createClass(GuesBookSingleMessage,[{key:'toggleClick',value:function toggleClick(mainFloorId){this.setState({topicExtended:!this.state.topicExtended});}},{key:'render',value:function render(){var item=this.props.data;var user=store.get('user');if(user.length!=0){var replyButton=_react2.default.createElement('button',{className:'reply-submit',onClick:this.toggleClick.bind(this)},'\u56DE\u8986');}else{replyButton='';}
var guestAllUsers=store.get('users');var guestUser=guestAllUsers[item.userId];var message=this.props.data.message.split('\n').map(function(item,index){return _react2.default.createElement('p',{key:'message_'+index},item,' ',_react2.default.createElement('br',null));});var baseGuestInfo={type:'noChildId',bunchId:item.bunchId,itemIndex:item.index};if(typeof item.childs!='undefined'){var childFloorMessage=Object.keys(item.childs).reverse().map(function(key){var data=item.childs[key];data.user=guestAllUsers[data['userId']];return _react2.default.createElement(ChildFloorMessage,{key:'message_single_child_'+key,data:item.childs[key]});});baseGuestInfo={type:'alreadyHaveChildId',childId:item.childId};var childShowMore='';if(item.childTotalNumber>childFloorMessage.length){var showMoreInfo={type:'childShowMore',childId:item.childId,moreCount:item.childTotalNumber-childFloorMessage.length};childShowMore=_react2.default.createElement(ShowMore,{key:'show_more',data:showMoreInfo});}}
if(this.state.topicExtended){var floorReply=_react2.default.createElement(Reply,{key:'floor_reply',data:baseGuestInfo});}else{floorReply='';}
return _react2.default.createElement('li',null,_react2.default.createElement('a',{className:'guest-book-thumbnail'},_react2.default.createElement('img',{src:guestUser.thumbnail,onError:function onError(e){e.target.src='/images/default/404.gif';}})),_react2.default.createElement('div',{className:'guest-book-content'},_react2.default.createElement('a',{title:'',target:'_blank'},_react2.default.createElement('h2',null,' ',guestUser.name,' '),_react2.default.createElement('div',{className:'date'},item.time)),_react2.default.createElement('div',{className:'guest-book-text-wrapper'},_react2.default.createElement('div',{className:'guest-book-text'},message),replyButton)),floorReply,_react2.default.createElement('ul',{className:'sub-Floor'},childFloorMessage,childShowMore));}}]);return GuesBookSingleMessage;}(_react2.default.Component);var ChildFloorMessage=function(_React$Component3){_inherits(ChildFloorMessage,_React$Component3);function ChildFloorMessage(){_classCallCheck(this,ChildFloorMessage);return _possibleConstructorReturn(this,(ChildFloorMessage.__proto__||Object.getPrototypeOf(ChildFloorMessage)).apply(this,arguments));}
_createClass(ChildFloorMessage,[{key:'render',value:function render(){var item=this.props.data;var message=item.message.split('\n').map(function(item,index){var parse=/(<b>)(.*)(<\/b>)(.*)/;var parseItem=parse.exec(item);if(parseItem!==null){return _react2.default.createElement('p',{key:'message_'+index},_react2.default.createElement('span',{className:'guest-book-text-name'},parseItem[2]),parseItem[4],' ',_react2.default.createElement('br',null));}
else{return _react2.default.createElement('p',{key:'message_'+index},item,' ',_react2.default.createElement('br',null));}});return _react2.default.createElement('li',null,_react2.default.createElement('a',{className:'guest-book-thumbnail'},_react2.default.createElement('img',{src:item.user.thumbnail,onError:function onError(e){e.target.src='/images/default/404.gif';}})),_react2.default.createElement('div',{className:'guest-book-content'},_react2.default.createElement('a',{title:'',target:'_blank'},_react2.default.createElement('h2',null,' ',item.user.name,' '),_react2.default.createElement('div',{className:'date'},item.time)),_react2.default.createElement('div',{className:'guest-book-text-wrapper'},_react2.default.createElement('div',{className:'guest-book-text'},message))));}}]);return ChildFloorMessage;}(_react2.default.Component);var Reply=function(_React$Component4){_inherits(Reply,_React$Component4);function Reply(props){_classCallCheck(this,Reply);var _this4=_possibleConstructorReturn(this,(Reply.__proto__||Object.getPrototypeOf(Reply)).call(this,props));var insertPath=defineUri.apiUri+'guestbook/insert?key=clickme';_this4.state={user:store.get('user'),insertPath:insertPath,message:'',otherBaseInfo:props.data,maxlength:255,info:0,isChangeColor:false,isChecked:false};return _this4;}
_createClass(Reply,[{key:'onChange',value:function onChange(e){e.preventDefault();this.setState({message:e.target.value});var maxlength=this.state.maxlength;var message=e.target.value;var length=message.length;if(length>maxlength){this.setState({"info":length});this.setState({isChangeColor:true});}
else{this.setState({"info":length});this.setState({isChangeColor:false});}}},{key:'onCheck',value:function onCheck(e){this.setState({isChecked:!this.state.isChecked});}},{key:'handlePress',value:function handlePress(e){if(e.key=='Enter'&&!e.shiftKey){e.preventDefault();this.sendMessage();}}},{key:'onFocus',value:function onFocus(e){e.target.placeholder="";}},{key:'onBlur',value:function onBlur(e){e.target.placeholder="說點什麼吧！";}},{key:'sendMessage',value:function sendMessage(){if(this.state.info>this.state.maxlength){alert("超過字數限制，最多不能超過"+this.state.maxlength+"個字。");return;}
var mainFloorId=this.state.mainFloorId||'';var message=this.state.message;this.setState({message:''});this.setState({info:0});this.setState({isChangeColor:false});if(typeof this.state.guestBookId=='undefined'){this.state.guestBookId=false;}
var guestBookList=store.get('guestBookList');var otherBaseInfo=this.state.otherBaseInfo;if(otherBaseInfo.type=='noChildId'&&typeof guestBookList[otherBaseInfo.itemIndex]["childs"]!='undefined'){otherBaseInfo={type:'alreadyHaveChildId',childId:guestBookList[otherBaseInfo.itemIndex]["childId"]};}
if(message.trim()!==''){_jquery2.default.ajax({url:store.get('defineUri').apiUri+'guestbook/insert?key=clickme',data:{articleGuestId:store.get('guestBookId'),message:message,otherBaseInfo:otherBaseInfo},method:'POST',success:function success(result){if(result.isDone){var originalList=store.get('guestBookList');var guestBookListTotal=store.get('guestBookListTotalNumber');if(result.data.childId==undefined&&result.data.childInfo==undefined){originalList[result.data.index]=result.data;var addOne=parseInt(guestBookListTotal)+1;}
else{Object.keys(originalList).map(function(key){if(originalList[key]['childId']==result.data.childId){originalList[key]['childs'][result.data.index]=result.data;}
if(key==result.data.childInfo){originalList[key]['childs']=[];originalList[key]['childId']=result.data.childId;Array.prototype.unshift.call(originalList[key]['childs'],result.data);}});}
store.set({'guestBookListTotalNumber':addOne,'guestBookList':originalList});}else{alert(result.messages);}},error:function error(xml){console.log(xml);}});}else{alert('請填寫留言');}}},{key:'render',value:function render(){if(this.state.isChecked){this.onKeyPress=this.handlePress.bind(this);}else{this.onKeyPress='';}
if(this.state.isChangeColor){this.labelColor="red";this.buttonColor="#C5C3C3";this.cursor="no-drop";this.isOnClick="";}else{this.labelColor="#C5C3C3";this.buttonColor="#E33A36";this.cursor="pointer";this.isOnClick=this.sendMessage.bind(this);}
return _react2.default.createElement('div',{className:'leave-comment'},_react2.default.createElement('div',{className:'comment_content'},_react2.default.createElement('textarea',{className:'textarea',onChange:this.onChange.bind(this),onKeyPress:this.onKeyPress,placeholder:'\u8AAA\u9EDE\u4EC0\u9EBC\u5427\uFF01',onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),id:'guest-book-text',value:this.state.message})),_react2.default.createElement('div',{className:'comment-bottom'},_react2.default.createElement('input',{id:'isCheckEnter',type:'checkbox',checked:this.state.isChecked,onChange:this.onCheck.bind(this)}),' \u6309Enter\u76F4\u63A5\u9001\u51FA\u7559\u8A00',_react2.default.createElement('label',{className:'comment-label',style:{color:this.labelColor},'for':'title'},'( ',this.state.info,' / ',this.state.maxlength,' )'),_react2.default.createElement('button',{className:'submit',style:{backgroundColor:this.buttonColor,cursor:this.cursor},onClick:this.isOnClick},'\u767C\u4F48')));}}]);return Reply;}(_react2.default.Component);var ShowMore=function(_React$Component5){_inherits(ShowMore,_React$Component5);function ShowMore(props){_classCallCheck(this,ShowMore);var _this5=_possibleConstructorReturn(this,(ShowMore.__proto__||Object.getPrototypeOf(ShowMore)).call(this,props));_this5.state={showMoreInfo:props.data,moreCount:props.data.moreCount};return _this5;}
_createClass(ShowMore,[{key:'showMore',value:function showMore(){var moreUri=defineUri.apiUri+'guestbook/showmore?key=clickme';var users=store.get('users');var showMoreInfo=this.state.showMoreInfo;var guestBookId=store.get('guestBookId');var guestBookList=store.get('guestBookList');var count=Object.keys(guestBookList).length;if(showMoreInfo.type=="childShowMore"){guestBookId=showMoreInfo.childId;Object.keys(guestBookList).map(function(key){if(guestBookList[key]["childId"]==guestBookId){count=Object.keys(guestBookList[key]["childs"]).length;}});}
this.setState({moreCount:showMoreInfo.moreCount-count});_jquery2.default.ajax({url:moreUri,data:{guestBookId:guestBookId,showMoreInfo:showMoreInfo.type,count:count,users:users},method:'POST',async:false,success:function success(result){if(result.isDone){var originalList=store.get('guestBookList');if(result.data.childId==""){var final=Object.assign(originalList,result.data.guestBookList);}
else{Object.keys(originalList).map(function(key){if(originalList[key]["childId"]==result.data.childId){Object.assign(originalList[key]["childs"],result.data.guestBookList);}});var final=originalList;}
store.set({'guestBookList':final});store.set({'users':result.data.userArray});}else{alert(result.messages);}},error:function error(xml){console.log(xml);}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'show-more'},_react2.default.createElement('a',{href:'javascript:;',title:"還有"+this.state.moreCount+"則留言",onClick:this.showMore.bind(this)},_react2.default.createElement('i',{className:'fa fa-plus','aria-hidden':'true'}),' \u986F\u793A\u66F4\u591A\u7559\u8A00(',this.state.moreCount,')'));}}]);return ShowMore;}(_react2.default.Component);}),58:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _store=__webpack_require__(1);var _jquery=__webpack_require__(2);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var store=_store.Store.getStore('ArticleDetail').getAgent('guestBook');var GuestBookTmp=function(_React$Component){_inherits(GuestBookTmp,_React$Component);function GuestBookTmp(props){_classCallCheck(this,GuestBookTmp);var _this=_possibleConstructorReturn(this,(GuestBookTmp.__proto__||Object.getPrototypeOf(GuestBookTmp)).call(this,props));store.set('',{guestBookId:props.guestBookId,guestBookList:props.guestBookList,guestBookListTotal:props.guestBookListTotal,users:props.users,defineUri:defineUri,user:props.user});_this.state=store.get();store.on("update",function(inputData){this.setState(inputData);}.bind(_this));return _this;}
_createClass(GuestBookTmp,[{key:'render',value:function render(){var reply='';if(this.props.user.length!=0){reply=_react2.default.createElement(Reply,{key:'reply',data:{type:'baseMessage'}});}else{reply=_react2.default.createElement('div',{className:'leave-comment'},_react2.default.createElement('div',{className:'login-first'},'\u8ACB\u5148',_react2.default.createElement('a',{href:'javascript:;',onClick:loginCheck.bind(this,false)},'\u767B\u5165')));}
var guestBookList=store.get('guestBookList');var guestBookListHtml=Object.keys(guestBookList).map(function(key){return _react2.default.createElement(GuesBookSingleMessage,{key:'message_single_'+key,data:guestBookList[key]});});return _react2.default.createElement('div',{className:'guest-book-clickme'},reply,_react2.default.createElement('div',{className:'guest-book-list'},_react2.default.createElement('ul',null,guestBookListHtml)));}}]);return GuestBookTmp;}(_react2.default.Component);exports.default=GuestBookTmp;var GuesBookSingleMessage=function(_React$Component2){_inherits(GuesBookSingleMessage,_React$Component2);function GuesBookSingleMessage(){_classCallCheck(this,GuesBookSingleMessage);var _this2=_possibleConstructorReturn(this,(GuesBookSingleMessage.__proto__||Object.getPrototypeOf(GuesBookSingleMessage)).call(this));_this2.state={topicExtended:false};return _this2;}
_createClass(GuesBookSingleMessage,[{key:'toggleClick',value:function toggleClick(mainFloorId){this.setState({topicExtended:!this.state.topicExtended});}},{key:'render',value:function render(){var item=this.props.data;var user=store.get('user');if(user.length!=0){var replyButton=_react2.default.createElement('button',{className:'reply-submit',onClick:this.toggleClick.bind(this)},'\u56DE\u8986');}else{replyButton='';}
var guestAllUsers=store.get('users');var guestUser=guestAllUsers[item.userId];var message=this.props.data.message.split('\n').map(function(item,index){return _react2.default.createElement('p',{key:'message_'+index},item,' ',_react2.default.createElement('br',null));});var baseGuestInfo={type:'noChildId',bunchId:item.bunchId,itemIndex:item.index};if(typeof item.childs!='undefined'){var childFloorMessage=Object.keys(item.childs).map(function(key){var data=item.childs[key];data.user=guestAllUsers[data['userId']];return _react2.default.createElement(ChildFloorMessage,{key:'message_single_child_'+key,data:item.childs[key]});});baseGuestInfo={type:'alreadyHaveChildId',childId:item.childId};}
if(this.state.topicExtended){var floorReply=_react2.default.createElement(Reply,{key:'floor_reply',data:baseGuestInfo});}else{floorReply='';}
return _react2.default.createElement('li',null,_react2.default.createElement('a',{className:'guest-book-thumbnail'},_react2.default.createElement('img',{src:guestUser.thumbnail,onError:function onError(e){e.target.src='/images/default/404.gif';}})),_react2.default.createElement('div',{className:'guest-book-content'},_react2.default.createElement('a',{title:'',target:'_blank'},_react2.default.createElement('h2',null,' ',guestUser.name,' '),_react2.default.createElement('div',{className:'date'},item.time)),_react2.default.createElement('div',{className:'guest-book-text-wrapper'},_react2.default.createElement('div',{className:'guest-book-text'},message),replyButton)),floorReply,_react2.default.createElement('ul',{className:'sub-Floor'},childFloorMessage));}}]);return GuesBookSingleMessage;}(_react2.default.Component);var ChildFloorMessage=function(_React$Component3){_inherits(ChildFloorMessage,_React$Component3);function ChildFloorMessage(){_classCallCheck(this,ChildFloorMessage);return _possibleConstructorReturn(this,(ChildFloorMessage.__proto__||Object.getPrototypeOf(ChildFloorMessage)).apply(this,arguments));}
_createClass(ChildFloorMessage,[{key:'render',value:function render(){var item=this.props.data;var message=item.message.split('\n').map(function(item,index){return _react2.default.createElement('p',{key:'message_'+index},item,' ',_react2.default.createElement('br',null));});return _react2.default.createElement('li',null,_react2.default.createElement('a',{className:'guest-book-thumbnail'},_react2.default.createElement('img',{src:item.user.thumbnail,onError:function onError(e){e.target.src='/images/default/404.gif';}})),_react2.default.createElement('div',{className:'guest-book-content'},_react2.default.createElement('a',{title:'',target:'_blank'},_react2.default.createElement('h2',null,' ',item.user.name,' '),_react2.default.createElement('div',{className:'date'},item.time)),_react2.default.createElement('div',{className:'guest-book-text-wrapper'},_react2.default.createElement('div',{className:'guest-book-text'},message))));}}]);return ChildFloorMessage;}(_react2.default.Component);var Reply=function(_React$Component4){_inherits(Reply,_React$Component4);function Reply(props){_classCallCheck(this,Reply);var _this4=_possibleConstructorReturn(this,(Reply.__proto__||Object.getPrototypeOf(Reply)).call(this,props));var insertPath=defineUri.apiUri+'guestbook/insert?key=clickme';_this4.state={user:store.get('user'),insertPath:insertPath,message:'',otherBaseInfo:props.data,maxlength:255,info:0,isChangeColor:false,isChecked:false};return _this4;}
_createClass(Reply,[{key:'onChange',value:function onChange(e){e.preventDefault();this.setState({message:e.target.value});var maxlength=this.state.maxlength;var message=e.target.value;var length=message.length;if(length>maxlength){this.setState({"info":length});this.setState({isChangeColor:true});}
else{this.setState({"info":length});this.setState({isChangeColor:false});}}},{key:'onCheck',value:function onCheck(e){this.setState({isChecked:!this.state.isChecked});}},{key:'handlePress',value:function handlePress(e){if(e.key=='Enter'&&!e.shiftKey){e.preventDefault();this.sendMessage();}}},{key:'onFocus',value:function onFocus(e){e.target.placeholder="";}},{key:'onBlur',value:function onBlur(e){e.target.placeholder="說點什麼吧！";}},{key:'sendMessage',value:function sendMessage(){if(this.state.info>this.state.maxlength){alert("超過字數限制，最多不能超過"+this.state.maxlength+"個字。");return;}
var mainFloorId=this.state.mainFloorId||'';var message=this.state.message;this.setState({message:''});this.setState({info:0});this.setState({isChangeColor:false});if(typeof this.state.guestBookId=='undefined'){this.state.guestBookId=false;}
if(message.trim()!==''){_jquery2.default.ajax({url:store.get('defineUri').apiUri+'guestbook/tempCheck?key=clickme',data:{articleGuestId:store.get('guestBookId'),message:message,otherBaseInfo:this.state.otherBaseInfo},method:'POST',success:function success(result){console.log(result);},error:function error(xml){console.log(xml);}});}else{alert('請填寫留言');}}},{key:'render',value:function render(){if(this.state.isChecked){this.onKeyPress=this.handlePress.bind(this);}else{this.onKeyPress='';}
if(this.state.isChangeColor){this.labelColor="red";this.buttonColor="#C5C3C3";this.cursor="no-drop";this.isOnClick="";}else{this.labelColor="#C5C3C3";this.buttonColor="#E33A36";this.cursor="pointer";this.isOnClick=this.sendMessage.bind(this);}
return _react2.default.createElement('div',{className:'leave-comment'},_react2.default.createElement('div',{className:'comment_content'},_react2.default.createElement('textarea',{className:'textarea',onChange:this.onChange.bind(this),onKeyPress:this.onKeyPress,placeholder:'\u8AAA\u9EDE\u4EC0\u9EBC\u5427\uFF01',onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),id:'guest-book-text',value:this.state.message})),_react2.default.createElement('div',{className:'comment-bottom'},_react2.default.createElement('input',{id:'isCheckEnter',type:'checkbox',checked:this.state.isChecked,onChange:this.onCheck.bind(this)}),' \u6309Enter\u76F4\u63A5\u9001\u51FA\u7559\u8A00',_react2.default.createElement('label',{className:'comment-label',style:{color:this.labelColor},'for':'title'},'( ',this.state.info,' / ',this.state.maxlength,' )'),_react2.default.createElement('button',{className:'submit',style:{backgroundColor:this.buttonColor,cursor:this.cursor},onClick:this.isOnClick},'\u767C\u4F48')));}}]);return Reply;}(_react2.default.Component);}),59:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ArticleList=undefined;var _showMore=__webpack_require__(60);var _showMore2=_interopRequireDefault(_showMore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ArticleList=exports.ArticleList={ShowMore:_showMore2.default};}),6:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var keys={37:1,38:1,39:1,40:1};function preventDefault(e){e=e||window.event;if(e.preventDefault)e.preventDefault();e.returnValue=false;}
function preventDefaultForScrollKeys(e){if(keys[e.keyCode]){preventDefault(e);return false;}}
var scrollTool=exports.scrollTool={disable:function disable(){if(window.addEventListener)
window.addEventListener('DOMMouseScroll',preventDefault,false);window.onwheel=preventDefault;window.onmousewheel=document.onmousewheel=preventDefault;window.ontouchmove=preventDefault;document.onkeydown=preventDefaultForScrollKeys;},enable:function enable(){if(window.removeEventListener)window.removeEventListener('DOMMouseScroll',preventDefault,false);window.onmousewheel=document.onmousewheel=null;window.onwheel=null;window.ontouchmove=null;document.onkeydown=null;}};}),60:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _store=__webpack_require__(1);var _jquery=__webpack_require__(2);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var store=_store.Store.getStore('ArticleList').getAgent('page');var handle={scrollCheck:function scrollCheck(){var windowHeight="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight;var body=document.body;var html=document.documentElement;var docHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);var windowBottom=windowHeight+window.pageYOffset;var anchor=store.get('anchor');var currentPage=store.get('current');if(windowBottom>anchor[currentPage+1]){store.set({current:currentPage+1});}
else if(windowBottom<anchor[currentPage]&&currentPage>=0){store.set({current:currentPage-1});}
if(windowBottom>=docHeight-100&&this.state.showMore&&store.get('pageInfomation').totalPage>currentPage){anchor[currentPage+1]=docHeight-695;store.set({anchor:anchor});this.showMore();}
(0,_jquery2.default)('.footer').hide();if(store.get('pageInfomation').totalPage<=currentPage){(0,_jquery2.default)('.footer').show();}}};var ShowMore=function(_React$Component){_inherits(ShowMore,_React$Component);function ShowMore(props){_classCallCheck(this,ShowMore);var _this=_possibleConstructorReturn(this,(ShowMore.__proto__||Object.getPrototypeOf(ShowMore)).call(this,props));var anchor=[];anchor[props.paginate['current']]=0;store.set("",{articleList:props.paginate.items,defineUri:props.defineUri,subtype:props.subtype,subtypeSlug:props.subtypeSlug,device:props.device,limit:props.limit,anchor:anchor,current:props.paginate.current,paginate:props.paginate,crumbName:props.crumbName,pageInfomation:{next:props.paginate.next,totalPage:props.paginate.total_pages}});store.on("update",function(updateData){this.setState(updateData);}.bind(_this));return _this;}
_createClass(ShowMore,[{key:'render',value:function render(){return _react2.default.createElement('div',null,_react2.default.createElement(ArticleList,null),_react2.default.createElement(Page,null));}}]);return ShowMore;}(_react2.default.Component);exports.default=ShowMore;var ArticleList=function(_React$Component2){_inherits(ArticleList,_React$Component2);function ArticleList(props){_classCallCheck(this,ArticleList);var _this2=_possibleConstructorReturn(this,(ArticleList.__proto__||Object.getPrototypeOf(ArticleList)).call(this,props));_this2.state={showMore:true};return _this2;}
_createClass(ArticleList,[{key:'componentDidMount',value:function componentDidMount(){window.addEventListener('scroll',handle.scrollCheck.bind(this));}},{key:'componentWillUnmount',value:function componentWillUnmount(){window.removeEventListener('scroll',handle.scrollCheck.bine(this));}},{key:'showMore',value:function showMore(){this.setState({showMore:false});_jquery2.default.ajax({url:store.get('defineUri').apiUri+'article/list?key=clickme',data:{articleType:'article',subtype:store.get('subtype'),subtypeSlug:store.get('subtypeSlug'),device:store.get('device'),limit:store.get('limit'),page:store.get('pageInfomation').next},method:'post',dataType:'json',success:function(result){if(result.isDone){var page=store.get('pageInfomation');var articleList=store.get('articleList');store.set('articleList',articleList.concat(result.data.items));page.next=result.data.next;store.set({pageInfomation:page,current:result.data.current,paginate:result.data});window.gaEvent('分類頁',store.get('crumbName')+"/換"+result.data.current+"頁");this.setState({showMore:true});}}.bind(this),error:function error(xml){console.log(xml);}});}},{key:'render',value:function render(){var items=store.get('articleList');var articleHtml=Object.keys(items).map(function(key){var time=new Date(items[key].date*1000);var finalTime=time.getFullYear()+'.'+(time.getMonth()+1)+'.'+time.getDate();return _react2.default.createElement('li',{key:'articleList'+key},_react2.default.createElement('a',{href:items[key].url,target:'_blank',onClick:window.gaEvent.bind(null,'分類頁',store.get('crumbName')+"/總點擊")},_react2.default.createElement('div',{className:'article-list-thumbnail',style:{backgroundImage:'url('+items[key].thumbnail+'),url("/images/default/nopic-s.jpg")'}}),_react2.default.createElement('div',{className:'article-list-info-area area-shadow'},_react2.default.createElement('div',{className:'article-list-title text-acronym-two'},items[key].title),_react2.default.createElement('a',{href:defineUri.frontendUri+'e/'+items[key].userSlug,className:'article-list-info',target:'_blank'},finalTime,' - ',_react2.default.createElement('span',null,items[key].userNick)))));});var showMore='';if(!this.state.showMore){showMore=_react2.default.createElement('div',{className:'article-category-more'},_react2.default.createElement('div',{id:'loader'},_react2.default.createElement('img',{src:'/images/refresh.png'}),_react2.default.createElement('span',null,'\u66F4\u591A')));}
var anchor=store.get('anchor');var anchorHtml=anchor.map(function(item,key){return _react2.default.createElement('div',{className:'anchor-single',style:{top:item}},'\u7B2C',key,'\u9801');});return _react2.default.createElement('div',null,anchorHtml,_react2.default.createElement('ul',{className:'article-list big-list-style waterfall',id:'article-list'},articleHtml),showMore);}}]);return ArticleList;}(_react2.default.Component);var Page=function(_React$Component3){_inherits(Page,_React$Component3);function Page(props){_classCallCheck(this,Page);return _possibleConstructorReturn(this,(Page.__proto__||Object.getPrototypeOf(Page)).call(this,props));}
_createClass(Page,[{key:'changePage',value:function changePage(page){var anchor=store.get('anchor');(0,_jquery2.default)("html, body").animate({scrollTop:anchor[page]},"1000");store.set({current:page});}},{key:'pageChangeInput',value:function pageChangeInput(link,e){if(e.key==='Enter'){var numbrtPage=(0,_jquery2.default)('#pageNumber').val();window.location.href=link+numbrtPage;}}},{key:'render',value:function render(){var page=store.get('pageInfomation');var current=store.get('current');var anchor=store.get('anchor');var paginate=store.get('paginate');var subtype=store.get('subtype');var currentLink=store.get('defineUri').frontendUri;if(subtype=='all'&&store.get('subtypeSlug')=='最新'){store.set({subtype:'category'});store.set({subtypeSlug:'new'});}
switch(subtype){case 'category':currentLink+='c';break;case 'tag':currentLink+='t';break;case 'search':currentLink+='s';break;default:break;}
currentLink+='/'+store.get('subtypeSlug')+'/';var mainPage=[];if(paginate['total_pages']>=9){var pageStart=current-4;var pageEnd=pageStart+8;if(pageStart<=1){pageStart=1;pageEnd=pageStart+8;}
if(current+4>=paginate['total_pages']){pageEnd=paginate['total_pages'];pageStart=pageEnd-8;}}else{var pageStart=1;var pageEnd=paginate['total_pages'];}
if(pageStart>1){mainPage.push(_react2.default.createElement('li',{key:'page_'+1},_react2.default.createElement('a',{href:currentLink+1},'1')));}
for(var i=pageStart;i<=pageEnd;i++){if(i==current){mainPage.push(_react2.default.createElement('li',{key:'page_'+i,className:'active'},_react2.default.createElement('a',{href:'javascript:void(0)'},i)));}else{if(typeof anchor[i]==='number'){mainPage.push(_react2.default.createElement('li',{key:'page_'+i,className:'beload',onClick:this.changePage.bind(this,i)},_react2.default.createElement('a',{href:'javascript:void(0)'},i)));}
else{mainPage.push(_react2.default.createElement('li',{key:'page_'+i},_react2.default.createElement('a',{href:currentLink+i},i)));}}}
if(pageEnd<paginate['total_pages']){mainPage.push(_react2.default.createElement('li',{key:'page_'+paginate['total_pages']},_react2.default.createElement('a',{href:currentLink+paginate['total_pages']},paginate['total_pages'])));}
return _react2.default.createElement('div',{className:'page-wrapper',id:'pages'},_react2.default.createElement('nav',{className:'page-container'},_react2.default.createElement('ul',{id:'page-bar'},mainPage)),_react2.default.createElement('input',{className:'page-jump',type:'text',placeholder:'\u9801\u6578',id:'pageNumber',onKeyPress:this.pageChangeInput.bind(this,currentLink)}));}}]);return Page;}(_react2.default.Component);}),61:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var app=exports.app={start:function start(){}};}),62:(function(module,exports){}),9:(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.shield=exports.society=undefined;var _objectMergeRecursive=__webpack_require__(4);var _objectMergeRecursive2=_interopRequireDefault(_objectMergeRecursive);var _cookies=__webpack_require__(5);var _scrollTool=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var isShowSociety=false;var cookiesName="isShowSociety";var tempCookie=_cookies.cookies.get(cookiesName);var prohibitName='isProhibit';var tempProhibitCookie=_cookies.cookies.get(prohibitName);var society=exports.society={start:function start(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var initConfig={m:false,d:false,t:1500,a_id:"article-ad",os:200,top:false,ex:1};config=(0,_objectMergeRecursive2.default)(initConfig,config);if(!tempCookie){$("#society-close").click(function(){hideSociety(config.d,config.t);});if(!config.top){$(window).scroll(function(){if($(window).scrollTop()>$("#"+config.a_id).offset().top-config.os){showSociety(config.m,config.os,config.a_id);}}.bind(null,config));}else{$("#society-container").css("margin-top","40px");showSociety(config.m,config.os,config.a_id,true);}
_cookies.cookies.set(cookiesName,1,config.ex);}}};var shield=exports.shield={prohibit:function prohibit(){document.body.style.overflow='hidden';$('#enter').click(function(){_cookies.cookies.set(prohibitName,true,3650);$('.shield-shadow,.shield-container, .shield-center').hide();document.body.style.overflow='visible';});$('#hard-enter').click(function(){_cookies.cookies.set(prohibitName,true,3650);window.location.reload();});}};function showSociety(){var mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var ad_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var top=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!isShowSociety){isShowSociety=true;$("#society-shadow, #society-container").fadeIn();switch(mode){case "soft":_scrollTool.scrollTool.disable();break;case "hard":$(window).scroll(function(){windowLockEvent(ad_id,offset,top);}.bind(null,ad_id));default:break;}}}
function hideSociety(){var delay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var time=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2000;if(delay){var isClosing=false;if(!isClosing){isClosing=true;setTimeout(function(){$("#society-shadow, #society-container").hide();_scrollTool.scrollTool.enable();window.freeLock=true;},time);}}else{$("#society-shadow, #society-container").hide();_scrollTool.scrollTool.enable();window.freeLock=true;}}
function windowLockEvent(ad_id,offset){var top=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(window.freeLock==undefined){_scrollTool.scrollTool.disable();if(!top){$("html, body").scrollTop($("#"+ad_id).offset().top-offset);}else{$("html, body").scrollTop(0);}}}})})));